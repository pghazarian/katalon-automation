import static com.kms.katalon.core.checkpoint.CheckpointFactory.findCheckpoint
import static com.kms.katalon.core.testcase.TestCaseFactory.findTestCase
import static com.kms.katalon.core.testdata.TestDataFactory.findTestData
import static com.kms.katalon.core.testobject.ObjectRepository.findTestObject
import static com.kms.katalon.core.testobject.ObjectRepository.findWindowsObject
import com.kms.katalon.core.checkpoint.Checkpoint as Checkpoint
import com.kms.katalon.core.cucumber.keyword.CucumberBuiltinKeywords as CucumberKW
import com.kms.katalon.core.mobile.keyword.MobileBuiltInKeywords as Mobile
import com.kms.katalon.core.model.FailureHandling as FailureHandling
import com.kms.katalon.core.testcase.TestCase as TestCase
import com.kms.katalon.core.testdata.TestData as TestData
import com.kms.katalon.core.testng.keyword.TestNGBuiltinKeywords as TestNGKW
import com.kms.katalon.core.testobject.TestObject as TestObject
import com.kms.katalon.core.webservice.keyword.WSBuiltInKeywords as WS
import com.kms.katalon.core.webui.keyword.WebUiBuiltInKeywords as WebUI
import com.kms.katalon.core.webui.keyword.internal.WebUIAbstractKeyword
import com.kms.katalon.core.windows.keyword.WindowsBuiltinKeywords as Windows
import internal.GlobalVariable as GlobalVariable
import org.openqa.selenium.Keys as Keys
import com.kms.katalon.core.util.KeywordUtil

/* Write a test case that:
 
1. Open the browser at https://stage-welcome.saddleback.com/
2. Verify that the Give link is present.
2. Click on the Give link.
3. Navigate to URL https://stage.saddleback.com/giving-at-saddleback
4. Click the Give Tithe button
5. Verify that the word Title is present.
6. Fill out the Custom Amount textfield with CustomAmount variable
7. Fill out the FirstName textfield with FirstName variable 
8. Fill out the LastName textfield with LastName variable
9. Fill out the Address1 textfield with Address1 variable
10. Fill out the City textfield with City variable
11. Fill out the State/Region textfield with StateRegion variable
12. Fill out the PostalCode textfield with PostalCode variable
13. Fill out the Email textfield with Email variable
14. Fill out the Credit Card Number textfield with Credit Card Number variable
15. Fill out the Expiration textfield with Expiration variable
16. Fill out the Security Code textfield with Security Code variable
17. Verify that the "Total amount to be given" value is the same as the CustomAmount variable. 
17. Verify that the Submit Gift button is present.

*/

/*// The following is what was generated by the StudioAssist / Generate Code
// Open the browser at https://stage-welcome.saddleback.com/
WebUI.openBrowser('https://stage-welcome.saddleback.com/')

// Verify that the Give link is present.
WebUI.verifyElementPresent(findTestObject('Page_Saddleback - Welcome/a_Give'))

// Click on the Give link.
WebUI.click(findTestObject('Page_Saddleback - Welcome/a_Give'))

// Navigate to URL https://stage.saddleback.com/giving-at-saddleback
WebUI.navigateToUrl('https://stage.saddleback.com/giving-at-saddleback')

// Click the Give Tithe button
WebUI.click(findTestObject('Page_Saddleback - Giving at Saddleback/button_Give Tithe'))

// Verify that the word Title is present.
WebUI.verifyElementPresent(findTestObject('Page_Saddleback - Giving at Saddleback/span_Title'))

// Fill out the Custom Amount textfield with CustomAmount variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Custom Amount'), CustomAmount)

// Fill out the FirstName textfield with FirstName variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_FirstName'), FirstName)

// Fill out the LastName textfield with LastName variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_LastName'), LastName)

// Fill out the Address1 textfield with Address1 variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Address1'), Address1)

// Fill out the City textfield with City variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_City'), City)

// Fill out the State/Region textfield with StateRegion variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_State/Region'), StateRegion)

// Fill out the PostalCode textfield with PostalCode variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_PostalCode'), PostalCode)

// Fill out the Email textfield with Email variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Email'), Email)

// Fill out the Credit Card Number textfield with Credit Card Number variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Credit Card Number'), CreditCardNumber)

// Fill out the Expiration textfield with Expiration variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Expiration'), Expiration)

// Fill out the Security Code textfield with Security Code variable
WebUI.setText(findTestObject('Page_Saddleback - Giving at Saddleback/input_Security Code'), SecurityCode)

// Verify that the "Total amount to be given" value is the same as the CustomAmount variable.
WebUI.verifyElementAttributeValue(findTestObject('Page_Saddleback - Giving at Saddleback/span_Total amount to be given'), 'value', CustomAmount)

// Verify that the Submit Gift button is present.
WebUI.verifyElementPresent(findTestObject('Page_Saddleback - Giving at Saddleback/button_Submit Gift'))
*/

// override the CustomAmount with a random integer between 0 and 100 
// NOTE: must convert the value to a string before it is used to set the value in a text field
CustomAmount = Math.round(Math.random() * 100).toString()

KeywordUtil.logInfo("random value: $CustomAmount") 

'Load the Welcome home page'
WebUI.openBrowser(GlobalVariable.Saddleback_Welcome_URL)

def width = 1024

width += 50

WebUI.setViewPortSize(width, 768)

WebUI.waitForPageLoad(10)

'If the Menu button is NOT displayed, use the Header navigation'
if (!CustomKeywords.'customUtility.TestObjectHelper.isElementVisible'(findTestObject('Object Repository/Saddleback Web/Home/Nav/Menu Button'))) {

	'Verify that the Give link is present.'
	WebUI.verifyElementPresent(findTestObject('Object Repository/Saddleback Web/Home/Nav/Give Header Link'), 1)
	
	'Click on the Give link.'
	WebUI.click(findTestObject('Object Repository/Saddleback Web/Home/Nav/Give Header Link'))

} else {
	'If the Menu button is displayed, use the Menu navigation'
	
	'Click Menu button'
	WebUI.click(findTestObject('Object Repository/Saddleback Web/Home/Nav/Menu Button'))
	
	'Click on the Give link.'
	WebUI.click(findTestObject('Object Repository/Saddleback Web/Home/Footer Nav/Give Footer Link'))
	
}

// Navigate to URL https://stage.saddleback.com/giving-at-saddleback
WebUI.navigateToUrl('https://stage.saddleback.com/giving-at-saddleback')

// Click the Give Tithe button
def count = 1
while (count < 5 && !CustomKeywords.'customUtility.TestObjectHelper.isElementPresent'(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Designation Section'), 1)) {
	WebUI.click(findTestObject('Object Repository/Saddleback Legacy/Giving/Give Tithe Button'))
	WebUI.delay(3)
	count += 1
}

// Verify that the Designation section is present
WebUI.verifyElementPresent(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Designation Section'), 0)

// Fill out the Custom Amount textfield with CustomAmount variable
WebUI.click(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Custom Amount Textfield'))
WebUI.clearText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Custom Amount Textfield'))
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Custom Amount Textfield'), CustomAmount)

// Fill out the FirstName textfield with FirstName variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/First Name Textfield'), FirstName)

// Fill out the LastName textfield with LastName variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Last Name Textfield'), LastName)

// Fill out the Address1 textfield with Address1 variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Address 1 Textfield'), Address1)

// Fill out the City textfield with City variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/City Textfield'), City)

// Fill out the State/Region textfield with StateRegion variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/State Region Textfield'), StateRegion)

// Fill out the PostalCode textfield with PostalCode variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Postal Code Textfield'), PostalCode)

// Fill out the Email textfield with Email variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Email Address Textfield'), Email)

// Fill out the Credit Card Number textfield with Credit Card Number variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Card Number Textfield'), CreditCardNumber)

// Fill out the Expiration textfield with Expiration variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Expiration Textfield'), Expiration)

// Fill out the Security Code textfield with Security Code variable
WebUI.setText(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Security Code Textfield'), SecurityCode)

// Verify that the "Total amount to be given" value is the same as the CustomAmount variable.
WebUI.verifyElementAttributeValue(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Custom Amount Textfield'), 'value', CustomAmount, 1)

// Verify that the Submit Gift button is present.
WebUI.verifyElementPresent(findTestObject('Object Repository/Saddleback Legacy/Giving Form/Submit Gift Button'), 0)

// Close browser
WebUI.closeBrowser()